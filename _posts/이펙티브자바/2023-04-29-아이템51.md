---
title: "아이템51 : 메서드 시그니처를 신중히 설계하라"
author: bumoo
date: 2023-04-29 22:01:00 +0900
categories: [이펙티브 자바]
tags: [이펙티브 자바]
---


## 메소드 이름을 신중히 짓자

항상 표준 명명 규칙을 따라야 한다.

이해할 수 있고, 같은 패키지에 속한 다른 이름들과 이관되게 짓는게 최우선이다.

다음은 개발자 커뮤니티에서 널리 받아들여지는 이름을 사용하는 것이다. 애매하면 자바 라이브러리의 API 가이드를 참조하자.

## 편의 메소드를 너무 많이 만들지 말자

모든 메소드는 자신의 소임을 다해야 한다.

메소드가 너무 많은 클래스는 익히고, 사용하고, 문서화하고, 테스트하고, 유지보수가 어렵다. 인터페이스도 마찬가지다.

아주 자주 쓰일 경우에만 별도의 약칭 메소드를 두기 바란다. **확신이 없으면 만들지 말자.**

## 매개변수 목록은 짧게 유지하자

매개변수는 4개 이하가 좋다. 4개가 넘으면 기억하기 어렵다.

**같은 타입의 매개변수 여러 개가 연달아 나오는 경우가 특히 해롭다.** 실수로 순서를 바꿔 입력해도 그대로 컴파일되고 실행된다.

단지 의도와 다르게 동작할 뿐이다.

매개변수 목록을 짧게 줄여주는 기술이 있다.

1. 여러 메소드로 쪼갠다.

쪼개진 메소드 각각은 원래 매개변수 목록의 부분집합을 받는다. 잘못하면 메소드가 많아질 수 있지만, 직교성을 높여 오히려 메소드 수를 줄여주는 효과도 있다.

> 직교성 : 공통점이 없는 기능들이 잘 분리되어 있다.
{: .prompt-info }

예를 들어, 부분리스트에서의 인덱스를 찾아야 한다고 하자.

해당 기능을 구현하려면 '부분 리스트의 시작', '부분 리스트의 끝', '찾을 원소'로 총 3개의 매개변수가 필요하다.

`List`는 부분 리스트를 반환하는 `subList`와 주어진 원소의 인덱스를 알려주는 `indexOf`를 별개로 제공한다.

해당 메소드 2개로 원하는 기능을 구현할 수 있다.

2. 매개변수 여러 개를 묶어주는 도우미 클래스를 만드는 것이다.

도우미 클래스는 정적 멤버 클래스로 둔다. 매개 변수 몇 개를 독립된 하나의 개념으로 볼 수 있을 때 추천한다.

3. 모든 매개변수를 하나의 추상화한 객체로 정의하고, 객체의 `Setter`(세터)를 호출해 값을 설정하도록 하고, 설정된 객체를 넘기는 것이다.

클라이언트는 매개변수를 설정한 후 `execute` 메소드를 호출해 매개변수들의 유효성 검사를 하도록 한다.

**매개변수의 타입으로는 클래스보다는 인터페이스가 더 낫다.**

예를 들어, 메소드에 `HashMap`을 넘길 일은 전혀 없다. 대신 `Map`을 사용하자.

그럼 `HashMap` 뿐만 아니라 `TreeMap`, `ConcurrentHashMap` 등 어떤 `Map` 구현체도 인수로 건넬 수 있다.

인터페이스 대신 클래스를 사용하면 특정 구현체만 사용하도록 제한하는 꼴이 된다.

그러면 클라이언트는 특정 구현체의 객체로 옮기느라 비싼 복사 비용을 치러야 한다.

또한 boolean보다는 원소 2개짜리 열거 타입이 낫다. 열거 타입을 사용하면 읽고, 쓰기가 쉽다.

추가로 선택지를 추가하기도 쉽다.

예를 들어, 화씨와 섭씨를 정의한 열거 타입이다.

```java
public enum TemperatureScale { FAHRENHEIT, CELSIUS }
```

정적 팩토리 메소드를 통해 적합한 인스턴스를 생성해준다고 하자. 

`Thermometer.newInstance(true)`보다 `Thermometer.newInstance(TemperatureScale.CELSIUS)`가 더 명확하다.

나중에 캘빈온도도 지원해야 한다면 `TemperatureScale`에 `KELVIN`을 추가하면 된다.