---
title: "아이템44 : 표준 함수형 인터페이스를 사용하라"
author: bumoo
date: 2023-04-02 00:32:00 +0900
categories: [이펙티브 자바]
tags: [이펙티브 자바]
---

## 표준 함수형 인터페이스

람다가 지원되면서 상위 클래스의 메소드를 재정의해 동작을 구현하는 템플릿 메소드 패턴의 매력이 줄었다.

대신 같은 효과의 함수 객체를 받는 정적 팩터리나 생서자를 제공하는 것이다.

즉 함수 객체를 매개변수로 받는것이다.

`java.util.function` 패키지에 다양한 용도의 함수형 인터페이스가 있다. 용도에 맞는게 있다면, 함수형 인터페이스를 활용하면 된다.

> - Operator : 인수와 반환 타입이 같은 함수
>    - UnaryOperator
>       - 인수가 1개인 경우
>    - BinaryOperator
>        - 인수가 2개인 경우
> - Predicate : 인수 1개를 받아 Boolean을 반환하는 함수
> - Function : 인수와 반환 타입이 다른 함수
> - Supplier : 인수를 받지 않고 값을 반환하는 함수
> - Consumer : 인수 1개를 받고 반환이 없는 함수
{: .prompt-info }

대부분의 기본 함수형 인터페이스는 기본 타입 형태는 지원한다. 

예를 들어 `IntBinaryOperator`는 `int형 인수 2개`를 받아 `int` 타입을 반환한다.

모두 기본 타입으로 정의되어 있으므로 `int형이 박싱된 Integer`를 넣지 않도록 주의해야 한다. 박싱 타입을 넣으면 형변한으로 성능이 느려질 수 있다.

## 직접 함수형 인터페이스를 생성하는 경우

표준 함수형 인터페이스가 있어도 직접 생성해야 하는 경우도 있다.

예를 들어 `Comparator<T>`가 있다. 구조적으로 `ToIntBiFunction<T, U>`와 동일하다.

하지만 `Comparator<T>`를 계속 사용하는 이유가 있다.

1. 이름 자체가 용도를 잘 설명한다.
2. 반드시 따라야할 규칙이 있다.
3. 유용한 `default 메소드`를 담고 있다.

직접 마든 함수형 인터페이스에는 `@FunctionalInterface` 어노테이션을 사용해야 한다.

그 이유는 아래와 같다.

1. 인터페이스가 람다용으로 설계된 것을 알려준다.
2. 인터페이스가 추상 메소드를 하나만 갖고 있어야 컴파일 되게 해준다.
3. 누군사 실수로 메소드를 추가하지 못하게 막아준다.