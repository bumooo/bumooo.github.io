---
title: "Redis의 잠재적인 문제와 해결"
author: bumoo
date: 2024-12-30 23:36:00 +0900
categories: ["대규모 트래픽"]
tags: ["Redis"]
---

## Redis 보안 설정
인정 설정
- `requirepass` 설정을 통해 패스워드 이증 도입

방화벽 설정
- 외부 접근에 노출이 되기 쉬우므로 외부 접근을 제한하기 위한 방화벽 설정

TLS (전송 계층 보안)
- 기본으로 평문으로 주고 받기 때문에 데이터 암호화(TLS)를 통해 보안성 향상


## 메모리 부족 문제
원인
- 데이터의 양이 많아져 메모리 한도에 도달하여 새로운 데이터를 저장할 수 없게 되는 경우 발생
- 메모리 부족은 캐시 데이터나 대규모 키 저장소를 운영시 발생

해결 방법
- `maxmemory` 설정
- LRU/LFU 정책 적용
- 데이터 압축 및 데이터 타입 최적화

## 복제 지연 (Replication Lag)
원인
- 네트워크 지연 : `Master → Slave` 데이터 전송되는 동안 네트워크 지연 발생 가능성이 있음 
- Slave 성능 저하 : Slave 노드가 처리해야 할 작업이 많거나, CPU, 메모리 등 자원 부족으로 지연 발생
- 대규모 쓰기 작업 : **Master**에서 대량의 쓰기 작업이 발생해 **Slave** 노드가 그 작업을 처리하는데 오래 걸려 지연 발생

해결 방법
- 복제 압축 활성화
- 비동기 복제 사용
- Slave 성능 최적화

## 데이터 영속성 및 복구 시간
원인
- AOF 파일 크기 증가 : 시간이 지남에 따라 AOF 파일이 커지고, 커질수록 재시작 시 해당 로그를 복구 시간이 오래 걸림
- 주기적인 AOF 파일 압축 미실행 : 주기적으로 AOF 파일 압축 및 재작성하여 파일 크기를 줄일 수 있지만, 제대로 실행되지 않으면 파일 크기 증가

해결 방법
- AOF 파일 압축 및 재작성
- AOF, RDB 병행 사용
