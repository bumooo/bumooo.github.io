---
title: "비동기 메시징 시스템 이해"
author: bumoo
date: 2024-12-27 00:23:00 +0900
categories: ["대규모 트래픽"]
tags: ["비동기 메시징 시스템"]
---

## 비동기 메시징 시스템이란
**Producer**와 **Consumer**가 독립적으로 동작하고, 직접 데이터를 주고 받지 않고 메시지 큐나 이벤트 버스같은 중간 매체를 통해 통신하는 시스템

## 비동기 메시징 시스템의 필요성
대규모 시스템에서 수많은 요청이 동시에 들어오고, 동기적으로 처리하면 시스템 과부하가 발생할 수 있음

비동기 메시징 시스템은 트래픽을 분산하고 확장성, 성능을 보장

시스템 결합을 느슨하게 하고, 작업을 병렬 처리하여 효율성 극대화

## 이벤트 버스 (Event Bus)
시스템 내에서 발생하는 이벤트를 전달하는 비동기 메시징 시스템

시스템 내의 상태 변화나 사용자 액션에 의해 발생하며, 처리하기 위해 비동기적으로 여러 서비스 간에 전달

## 이벤트 버스의 동작 원리
`Event Producer` : 이벤트 발생시키는 주체

`Event Bus` : 이벤트를 구독하고 있는 여러 서비스로 전달 

`Event Consumer` : 이벤트를 구독하고 있는 서비스

> 장점
> - 서비스 간 실시간 데이터 주고 받아 빠르게 상태 변화 가능
> - 이벤트 구독 서비스를 쉽게 추가하여 시스템 확장성 용이
> - 이벤트 통해 서비스 독립적으로 동작
{: .prompt-info }

## 메시지 큐 (Message Queue)
**Producer`가 생성한 메시지를 큐에 넣고, `Consumer`가 준비된 후에 처리하는 구조

서비스 간 느슨한 결합을 가능하게 하고, 확장성을 높이는데 유용

## 메시지 큐의 동작 원리
`Producer` : 메시지를 생성하여 큐에 넣는 주체

`Queue` : 메시지가 일시적으로 저장되는 공간

`Consumer` : 큐에서 메시지를 가져가 처리하는 주체

> 장점
> - 순간적으로 트래픽이 몰려도 큐에 보관하여 순차적 처리 가능
> - Consumer 늘리면 메시지 처리가 빨라져 트래픽 대응에 좋다.
> - 서비스 간 결합도를 낮춰 독립적으로 작동할 수 있다.
{: .prompt-info }

## 메시지 브로커 (Message Broker)
메시지 큐, 이벤트 버스와 비슷한 개념이지만 더 큰 범위에서 시스템 간 통신을 중개하는 역할

서로 다른 애플리케이션이나 시스템 간에 비동기 메시지 전달 (Ex. `Rabbit MQ`, `Kafka`)

## 메시지 브로커의 주요 역할
메시지를 큐에 저장하여, 시스템이 메시지를 손실하지 않고 안정적으로 전달

트래픽을 효율적으로 분산시켜 시스템에 과부하가 발생하지 않도록 도와줌

다른 시스템 간의 메시지를 중개하여, 독립적으로 동작할 수 있도록 함

## Message Queue, Message Broker
![메시지 큐와 메시지 브로커](https://github.com/user-attachments/assets/e1852b53-9f0f-4664-99c1-c07e2a19f08e)
